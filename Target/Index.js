const{default:n}=await import("./Variable/Option.js"),{default:s}=await import("typescript-esbuild/Target/Function/Merge.js");var p=(a={})=>{for(const e in a)Object.prototype.hasOwnProperty.call(a,e)&&a[e]===!0&&(a[e]=n[e]);const t=s(n,a),i=new Set;if(typeof t.Path<"u"&&(Array.isArray(t.Path)||t.Path instanceof Set))for(const e of t.Path)i.add(e);return{name:"astro-critters",hooks:{"astro:build:done":async({dir:e})=>{if(i.size||i.add(e),!!t.Critters)for(const f of i){const o=await(await import("files-pipe/Target/Function/Apply.js")).default(async r=>r instanceof URL?(await import("url")).fileURLToPath(r):r,f);await(await(await(await new(await import("files-pipe")).default(t.Cache,t.Logger).In(f)).By("**/*.html")).Not(t.Exclude)).Pipe(s(n.Action,{Wrote:async r=>new(await import("critters"))(s(t.Critters,{path:o instanceof Map?o.keys().next().value:o,logLevel:(()=>{switch(t.Logger){case 0:return"silent";case 1:return"silent";case 2:return"info";default:return"info"}})()})).process(r.Buffer.toString())}))}}}}};export{n as Default,s as Merge,p as default};
